{
  "ignition": {
    "version": "3.3.0"
  },
  "passwd": {
    "users": [
      {
        "name": "core",
        "passwordHash": "$y$j9T$ESI.95m/DiovKyPsYz/0r.$OEmQuEn4lQf7SZxEbccz/MaYZJkec4eKFWhXYivblj1",
        "sshAuthorizedKeys": [
          "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQC2qCYXhOtEf7ZcI+gsasDOAA++IaoDnLfVUzt0h9ScZQqpaCJJ5/0yGM2WfX5NFUSPDvC5JIZ9JOjSMM94XW/ajLskxVYROwT/9g2R7H7crUHiRNVGXnse0/5fjt4plhkedvcsFDZCdCQi9mTgzgwPAN5HUJhd2eMrjZ3RByftcK6wORwoVgkJkO3THxzRgMWLiPsMDUrVzUwonZKH9Zk3Ei0JvQMsitF7kM8vGuvPH8yeNEN5JzHVrE3ZQZA1KT/whXHEbhTogtqn5MGEsmriqC5ejCvHQh6jKdkm02LwDff7E8hdtIBJtYowKtVHWapR783gvzGxFrYX66CFBBi7Om0Vn/RZWxzK4PJv4jU4ykBh1wTghtcUJMJMZ6k0eXKfVq0yR7Nk8uU2X7qdRKsXIio7IYwohS/qJmn5GmXyzXKt7zdnuh7Vo4pWo6+dxizlR8VXsQgrYFG5b9uNSPDhWT2laTGMvC8J6ZxL/LGnxPFpnDtauW1M5PDVYkC6uTs= rmohan@fedora"
        ]
      }
    ]
  },
  "storage": {
    "files": [
      {
        "group": {
          "name": "core"
        },
        "path": "/usr/local/bin/k3s",
        "user": {
          "name": "core"
        },
        "contents": {
          "source": "https://github.com/k3s-io/k3s/releases/download/v1.26.0%2Bk3s1/k3s",
          "verification": {
            "hash": "sha512-3ba0e4f6d4413916e802359ef6192621ad1aa911a617c3125976048e693038a3fd13c9ee72630386c0c76612531592433da092e40dbb781e6727d0fd90c27348"
          }
        }
      },
      {
        "path": "/usr/local/etc/k3s/token",
        "user": {
          "name": "core"
        },
        "contents": {
          "source": "data:text/plain;charset=utf-8;base64,YWQ4NDE1NTUtZGMyOS00YTZkLTk1NjQtN2E5NzQ0NGUwM2Ux"
        },
        "mode": 256
      },
      {
        "path": "/etc/NetworkManager/system-connections/Wired\\ connection\\ 1.nmconnection",
        "contents": {
          "compression": "gzip",
          "source": "data:;base64,H4sIAAAAAAAC/0TPUW7DIAwG4HefogcYXaCUNZo4xx6iPDjgrkjFIHCq5fZT11WV/WJL/uR/CoWZgqTCM6Tov1KjuHstdxrWNUVPEZdxGbU6o13UwRirTkfj1HFwLjgbotMEslXyJBdqTAK4SvmHVG2ptCSbV+M4QmKhdsZAijGTJ666DyApUxfM1Wv3YYw1+mAApqc3A0yp3uwMGGOj3rXXw96ae+theDf27TVD5O5P+7/6hExyKdFn5BWvD8Y9GPVNrHKJ5LvgcqX7ozcM2/PkngFgqq38bDP8BgAA//8d0aZALQEAAA=="
        },
        "mode": 384
      },
      {
        "path": "/etc/hostname",
        "contents": {
          "compression": "",
          "source": "data:,masternode1"
        },
        "mode": 420
      }
    ]
  },
  "systemd": {
    "units": [
      {
        "contents": "[Unit]\nDescription=Set local time zone\n\n[Install]\nWantedBy=multi-user.target\n\n[Service]\nType=oneshot\nRemainAfterExit=yes\nExecStart=/usr/bin/timedatectl set-timezone Europe/Amsterdam\n",
        "enabled": true,
        "name": "settimezone.service"
      },
      {
        "contents": "[Unit]\nDescription=Lightweight Kubernetes\nDocumentation=https://k3s.io\nWants=network-online.target\nAfter=network-online.target\nAfter=settimezone.service\n\n[Install]\nWantedBy=multi-user.target\n\n[Service]\nType=notify\nKillMode=process\nDelegate=yes\nLimitNOFILE=1048576\nLimitNPROC=infinity\nLimitCORE=infinity\nTasksMax=infinity\nTimeoutStartSec=0\nRestart=always\nRestartSec=5s\nExecStartPre=-/sbin/modprobe br_netfilter\nExecStartPre=-/sbin/modprobe overlay\nExecStart=/usr/local/bin/k3s \\\n  'server' \\\n  '--disable-selinux' \\\n  '--token-file=/usr/local/etc/k3s/token' \\\n  '--cluster-cidr=10.10.0.0/16' \\\n  '--service-cidr=10.20.0.0/16' \\\n  '--no-deploy=traefik'",
        "enabled": true,
        "name": "k3s.service"
      }
    ]
  }
}
